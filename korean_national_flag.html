<!DOCTYPE html>
<html>
<style>
  h1 {
    align-items: center;
  }
</style>

<head>
  <title>태극기</title>
</head>

<body>
  <header>
    <a href="https://ko.wikipedia.org/wiki/3%C2%B71%EC%A0%88">3월 1일</h1>
  </header>
</body>
<script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js">
</script>
<script type="importmap">
		{
			"imports": {
			"three": "https://unpkg.com/three@0.148.0/build/three.module.js"
		}
  }
	</script>

<script type="module">
  import * as THREE from "three";

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({
    alpha: true,
    antialias: true,
  });
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);
  const geometry = new THREE.PlaneGeometry(5, 3, 50, 30);
  const material = new THREE.MeshBasicMaterial({ color: 0x424242, wireframe: true })
  const flag = new THREE.Mesh(geometry, material);
  flag.rotation.set(-0.1, 0, 0);
  camera.position.z = 3;
  scene.add(flag);

  animate();

  //** functions **//
  function animate() {
    const position = flag.geometry.attributes.position;
    for (let i = 0; i < position.count; i++) {
      const vector = new THREE.Vector3();
      vector.fromBufferAttribute(position, i);
      vector.z = 0.42 * Math.sin(vector.x);
      position.setXYZ(i, vector.x, vector.y, vector.z);
    }
    requestAnimationFrame(animate);
    camera.lookAt(scene.position);
    renderer.render(scene, camera);
  };
</script>

</html>